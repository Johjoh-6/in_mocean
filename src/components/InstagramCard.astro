---
import { getIcon } from "../utils/icons";
import { type PostIG } from "../content.config";

interface Props {
	post: PostIG;
}

const { post } = Astro.props;

const InstagramIcon = getIcon("instagram");
---

<a
	href={post.href}
	target="_blank"
	rel="noopener noreferrer"
	class="group relative aspect-square overflow-hidden rounded-xl border border-slate-800 hover:border-pink-500/50 transition-all duration-300 block"
	aria-label={`View on Instagram: ${post.alt}`}
>
	<img
		src={typeof post.image === "string" ? post.image : post.image.src}
		alt={post.alt}
		class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"
		loading="lazy"
		decoding="async"
	/>

	<!-- Hover overlay -->
	<div
		class="absolute inset-0 bg-slate-950/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center"
	>
		<div
			class="w-12 h-12 bg-pink-600 rounded-full flex items-center justify-center transform scale-75 group-hover:scale-100 transition-transform duration-300 shadow-2xl"
		>
			<InstagramIcon class="w-6 h-6 text-white" aria-hidden="true" />
		</div>
	</div>
</a>
